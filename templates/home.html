<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather Prediction System</title>
    <link rel="stylesheet" href="../static/styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üå§Ô∏è Weather Prediction System</h1>
            <p>Advanced ML-powered weather forecasting for accurate predictions</p>
        </div>

        <div class="form-container">
            <form action="{{ url_for('predict_datapoint') }}" method="post" id="weatherForm">
                <div class="form-grid">
                    <!-- Temperature Section -->
                    <div class="form-section">
                        <h3 class="section-title">
                            <span class="section-icon">üå°Ô∏è</span>
                            Temperature Data
                        </h3>
                        
                        <div class="form-group">
                            <label class="form-label">Minimum Temperature (¬∞C) <span class="required">*</span></label>
                            <input class="form-control" type="number" name="MinTemp" 
                                placeholder="e.g., 15.2" min="-8.5" max="33.9" step="0.1" required>
                            <div class="input-hint">Range: -8.5¬∞C to 33.9¬∞C</div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Maximum Temperature (¬∞C) <span class="required">*</span></label>
                            <input class="form-control" type="number" name="MaxTemp" 
                                placeholder="e.g., 28.7" min="-4.8" max="48.1" step="0.1" required>
                            <div class="input-hint">Range: -4.8¬∞C to 48.1¬∞C</div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Temperature at 9am (¬∞C) <span class="required">*</span></label>
                            <input class="form-control" type="number" name="Temp9am" 
                                placeholder="e.g., 18.5" min="-7.2" max="40.2" step="0.1" required>
                            <div class="input-hint">Range: -7.2¬∞C to 40.2¬∞C</div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Temperature at 3pm (¬∞C) <span class="required">*</span></label>
                            <input class="form-control" type="number" name="Temp3pm" 
                                placeholder="e.g., 25.1" min="-5.4" max="46.7" step="0.1" required>
                            <div class="input-hint">Range: -5.4¬∞C to 46.7¬∞C</div>
                        </div>
                    </div>

                    <!-- Atmospheric Conditions -->
                    <div class="form-section">
                        <h3 class="section-title">
                            <span class="section-icon">üåßÔ∏è</span>
                            Atmospheric Conditions
                        </h3>

                        <div class="form-group">
                            <label class="form-label">Rainfall (mm) <span class="required">*</span></label>
                            <input class="form-control" type="number" name="Rainfall" 
                                placeholder="e.g., 5.2" min="0" max="371" step="0.1" required>
                            <div class="input-hint">Range: 0mm to 371mm</div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Evaporation (mm) <span class="required">*</span></label>
                            <input class="form-control" type="number" name="Evaporation" 
                                placeholder="e.g., 4.8" min="0" max="145" step="0.1" required>
                            <div class="input-hint">Range: 0mm to 145mm</div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Sunshine Hours <span class="required">*</span></label>
                            <input class="form-control" type="number" name="Sunshine" 
                                placeholder="e.g., 8.5" min="0" max="14.5" step="0.1" required>
                            <div class="input-hint">Range: 0 to 14.5 hours</div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Rain Today <span class="required">*</span></label>
                            <select class="form-control" name="RainToday" required>
                                <option value="" disabled selected>Select Rain Status</option>
                                <option value="0">No Rain</option>
                                <option value="1">Rain</option>
                            </select>
                        </div>
                    </div>

                    <!-- Wind Conditions -->
                    <div class="form-section">
                        <h3 class="section-title">
                            <span class="section-icon">üí®</span>
                            Wind Conditions
                        </h3>

                        <div class="form-group">
                            <label class="form-label">Wind Gust Speed (km/h) <span class="required">*</span></label>
                            <input class="form-control" type="number" name="WindGustSpeed" 
                                placeholder="e.g., 45" min="6" max="135" required>
                            <div class="input-hint">Range: 6 to 135 km/h</div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Wind Speed 9am (km/h) <span class="required">*</span></label>
                            <input class="form-control" type="number" name="WindSpeed9am" 
                                placeholder="e.g., 15" min="0" max="130" required>
                            <div class="input-hint">Range: 0 to 130 km/h</div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Wind Speed 3pm (km/h) <span class="required">*</span></label>
                            <input class="form-control" type="number" name="WindSpeed3pm" 
                                placeholder="e.g., 22" min="0" max="87" required>
                            <div class="input-hint">Range: 0 to 87 km/h</div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Wind Gust Direction <span class="required">*</span></label>
                            <select class="form-control" name="WindGustDir" required>
                                <option value="" disabled selected>Select Direction</option>
                                <option value="N">North (N)</option>
                                <option value="E">East (E)</option>
                                <option value="S">South (S)</option>
                                <option value="W">West (W)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Wind Direction 9am <span class="required">*</span></label>
                            <select class="form-control" name="WindDir9am" required>
                                <option value="" disabled selected>Select Direction</option>
                                <option value="N">North (N)</option>
                                <option value="E">East (E)</option>
                                <option value="S">South (S)</option>
                                <option value="W">West (W)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Wind Direction 3pm <span class="required">*</span></label>
                            <select class="form-control" name="WindDir3pm" required>
                                <option value="" disabled selected>Select Direction</option>
                                <option value="N">North (N)</option>
                                <option value="E">East (E)</option>
                                <option value="S">South (S)</option>
                                <option value="W">West (W)</option>
                            </select>
                        </div>
                    </div>

                    <!-- Humidity & Pressure -->
                    <div class="form-section">
                        <h3 class="section-title">
                            <span class="section-icon">üíß</span>
                            Humidity & Pressure
                        </h3>

                        <div class="form-group">
                            <label class="form-label">Humidity 9am (%) <span class="required">*</span></label>
                            <input class="form-control" type="number" name="Humidity9am" 
                                placeholder="e.g., 65" min="0" max="100" required>
                            <div class="input-hint">Range: 0% to 100%</div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Humidity 3pm (%) <span class="required">*</span></label>
                            <input class="form-control" type="number" name="Humidity3pm" 
                                placeholder="e.g., 45" min="0" max="100" required>
                            <div class="input-hint">Range: 0% to 100%</div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Pressure 9am (hPa) <span class="required">*</span></label>
                            <input class="form-control" type="number" name="Pressure9am" 
                                placeholder="e.g., 1013.2" min="977.1" max="1039.6" step="0.1" required>
                            <div class="input-hint">Range: 977.1 to 1039.6 hPa</div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Pressure 3pm (hPa) <span class="required">*</span></label>
                            <input class="form-control" type="number" name="Pressure3pm" 
                                placeholder="e.g., 1011.8" min="977.1" max="1039.6" step="0.1" required>
                            <div class="input-hint">Range: 977.1 to 1039.6 hPa</div>
                        </div>
                    </div>

                    <!-- Cloud Cover & Location -->
                    <div class="form-section">
                        <h3 class="section-title">
                            <span class="section-icon">‚òÅÔ∏è</span>
                            Cloud & Location
                        </h3>

                        <div class="form-group">
                            <label class="form-label">Cloud Cover 9am (oktas) <span class="required">*</span></label>
                            <input class="form-control" type="number" name="Cloud9am" 
                                placeholder="e.g., 6" min="0" max="9" required>
                            <div class="input-hint">Range: 0 to 9 oktas</div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Cloud Cover 3pm (oktas) <span class="required">*</span></label>
                            <input class="form-control" type="number" name="Cloud3pm" 
                                placeholder="e.g., 4" min="0" max="9" required>
                            <div class="input-hint">Range: 0 to 9 oktas</div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Location <span class="required">*</span></label>
                            <select class="form-control" name="Location" required>
                                <option value="" disabled selected>Select Location</option>
                                <option value="Sydney">Sydney</option>
                                <option value="GoldCoast">Gold Coast</option>
                                <option value="Perth">Perth</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Season <span class="required">*</span></label>
                            <select class="form-control" name="season" required>
                                <option value="" disabled selected>Select Season</option>
                                <option value="spring">Spring</option>
                                <option value="summer">Summer</option>
                                <option value="autumn">Autumn</option>
                                <option value="winter">Winter</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="btn-container">
                    <button type="submit" class="btn-predict">
                        üîÆ Predict Weather Conditions
                    </button>
                </div>

                <div class="loading" id="loading">
                    <div class="spinner"></div>
                    <p>Analyzing weather patterns...</p>
                </div>
            </form>

            {% if results %}
            <div class="result-section show">
                <div class="weather-icon">
                    {% if results == 'Rain' %}
                        üåßÔ∏è
                    {% else %}
                        ‚òÄÔ∏è
                    {% endif %}
                </div>
                <h3 class="result-title">Weather Prediction Result</h3>
                <div class="result-value">{{ results }}</div>
            </div>
            {% endif %}
        </div>
    </div>
    <script>
        document.getElementById('weatherForm').addEventListener('submit', function(e) {
            document.getElementById('loading').style.display = 'block';
        });

        // Form validation and user experience enhancements
        document.querySelectorAll('.form-control').forEach(input => {
            input.addEventListener('input', function() {
                if (this.checkValidity()) {
                    this.style.borderColor = '#28a745';
                } else {
                    this.style.borderColor = '#dc3545';
                }
            });
        });

        // Form enhancement - smooth scrolling to results
        if (document.querySelector('.result-section.show')) {
            document.querySelector('.result-section').scrollIntoView({ 
                behavior: 'smooth', 
                block: 'center' 
            });
        }
    </script>
</body>
</html>